<nav class="navbar navbar-light bg-light">
  <a class="navbar-brand" href="#">
    <img src="assets/logo_racoo.png" width="100" height="30" alt="">
  </a>
</nav>
<div class="container-fluid margin-container">



  <div class="row">
    <div class="col-md-2">
      <div class="form-group col-form-label-sm">
        <select class="form-control form-control-sm" #selectElement (change)="selectNotaria(selectElement.value)">
          <option value="">Todos</option>
          <option *ngFor="let notaria of infoAll" [value]="notaria._id">{{notaria.notaria}}</option>
        </select>
      </div>
    </div>
  </div>




  <div *ngIf="!dataId">

    <div class="table-responsive">
      <table class="table table-bordered" *ngFor="let notaria of recent">
        <thead>
          <tr>
            <th class="text-center" scope="col">Notaria/Fecha</th>
            <th class="text-center" scope="col" [attr.colspan]='notaria?.informacion?.discos.length'>Discos</th>
            <!--<th class="text-center" scope="col" [attr.colspan]='2'>Respaldo</th>
            <th class="text-center" scope="col">Mantenimiento</th>
            <th class="text-center" scope="col">Fecha Local Server</th>
            <th class="text-center" scope="col">Ultimo archivo</th>-->
          </tr>
        </thead>
        <tbody>
          <tr>
            <th class="text-center">{{notaria.id_notaria}}
              <br /><small>{{notaria?.informacion?.fecha[0]?.fecha}}</small>
            </th>
            <td *ngFor="let disco of notaria?.informacion?.discos" [ngClass]="{'amarillo': porcentYellow(disco.Mounted_on, disco.Use, disco.Avail), 'rojo': porcentRed(disco.Mounted_on, disco.Use, disco.Avail) }" [ngbPopover]="popContent" triggers="mouseenter:mouseleave"
              container="body">
              <ng-template #popContent>
                <pre>{{disco | json}}</pre>
              </ng-template>
              <p class="text-center">{{cutName(disco.Mounted_on)}} <br/> {{values(disco.Mounted_on, disco.Use, disco.Avail)}}</p>  
            </td>
            <!--<td [ngClass]="{'rojo': oneDayBefore(notaria?.informacion?.respaldos[0]?.interno?.fecha)}" ngbPopover="{{notaria?.informacion?.respaldos[0]?.interno?.fecha}}" triggers="mouseenter:mouseleave"
              container="body"></td>
            <td class="" ngbPopover="{{notaria?.informacion?.respaldos[1]?.externo?.fecha}}" triggers="mouseenter:mouseleave"
              container="body"></td>
            <td class="" ngbPopover="{{notaria?.informacion?.mantenimiento}}" triggers="mouseenter:mouseleave"
              container="body"></td>
              <td class="" ngbPopover="{{notaria?.informacion?.mantenimiento}}" triggers="mouseenter:mouseleave" container="body"></td>
            <td class="" ngbPopover="{{notaria?.creacion}}" triggers="mouseenter:mouseleave" container="body"></td>-->
          </tr>
        </tbody>
      </table>
    </div>

  </div>



  <div *ngIf="dataId">

    <div class="table-responsive">
      <table class="table table-bordered">
        <thead>
          <tr>
            <th class="text-center" scope="col">Notaria/Fecha</th>
            <th class="text-center" scope="col" [attr.colspan]="infoId?.info[discLength - 1]?.informacion?.discos.length">Discos</th>
            <!--<th class="text-center" scope="col" [attr.colspan]='2'>Respaldo</th>
            <th class="text-center" scope="col">Mantenimiento</th>
            <th class="text-center" scope="col">Fecha Local Server</th>
            <th class="text-center" scope="col">Ultimo archivo</th>-->
          </tr>
        </thead>
        <tbody *ngFor="let item of infoId?.info">
          <th class="text-center">{{item.id_notaria}}
            <br /><small>{{item?.informacion?.fecha[0]?.fecha}}</small>
          </th>
          <td *ngFor="let disco of item?.informacion?.discos" [ngClass]="{'amarillo': porcentYellow(disco.Mounted_on, disco.Use, disco.Avail), 'rojo': porcentRed(disco.Mounted_on, disco.Use, disco.Avail) }"
            [ngbPopover]="popContent" triggers="mouseenter:mouseleave" container="body">
            <ng-template #popContent>
              <pre>{{disco | json}}</pre>
            </ng-template>
            <p class="text-center">{{cutName(disco.Mounted_on)}} <br/> {{values(disco.Mounted_on, disco.Use, disco.Avail)}}</p>  
          </td>
          <!--<td [ngClass]="{'rojo': oneDayBefore(item?.informacion?.respaldos[0]?.interno?.fecha)}" ngbPopover="{{item?.informacion?.respaldos[0]?.interno?.fecha}}"
            triggers="mouseenter:mouseleave" container="body"></td>
          <td [ngClass]="{'rojo': oneDayBefore(item?.informacion?.respaldos[0]?.interno?.fecha)}" ngbPopover="{{item?.informacion?.respaldos[1]?.externo?.fecha}}"
            triggers="mouseenter:mouseleave" container="body"></td>
          <td [ngClass]="{'rojo': maintenance(item?.informacion?.mantenimiento)}" ngbPopover="Hora local: {{dateNow | date:'medium'}} Hora del servidor: {{item?.informacion?.mantenimiento | date:'medium'}}"
              triggers="mouseenter:mouseleave" container="body"></td>
          <td class="" ngbPopover="{{item?.informacion?.mantenimiento}}" triggers="mouseenter:mouseleave" container="body"></td>
          <td class="" ngbPopover="{{item?.creacion}}" triggers="mouseenter:mouseleave" container="body"></td>-->
        </tbody>
      </table>
    </div>

    <!--<div *ngFor="let software of infoId?.info[discLength-1]?.informacion?.software" class="row">
      <div class="col-md">
        <p>{{software.nombre}} - {{software.version}}</p>
      </div>
    </div>-->

    <!--<pre>{{infoId | json}}</pre>-->
  </div>



  <!--<div class="row">
    <div class="col-md-1 text-left" (click)="isVisible()">
      <span *ngIf="!visible; else otherIcon">
        <i class="far fa-eye fa-xs puntero"></i>
      </span>
      <ng-template #otherIcon>
        <i class="far fa-eye-slash fa-xs puntero"></i>
      </ng-template>
    </div>
  </div>

  <div *ngIf="visible">
    <pre>{{data | json}}</pre>
  </div>-->

</div>